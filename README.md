# CadwiseTextTool

.Net 6.0
c#10

Описание
--------
В вакансии обозначено WFP. Будем писать на WFP.
Основная логика - регулярные выражения.

    Обрабатываем переносы. Подробнее ниже.
    Сохраняем слова длиннее, чем указано, остальные удаляем.
    Обрабатываем составные слова "что-то". Убираем те, которые короче заданной длины.
    По оставшемуся тексту проходим - убираем знаки препинания.

Вероятно можно сделать в одно регулярное выражение, но решил для читаемости кода сделать в два шага, 
кроме того есть запрос на сохранение знаков препинания, это также мотивировало разделить шаги.

Нет ясности о размере файлов. В задании написано "большие". Сделал построчное чтение, чтобы можно было реально 
читать 4Gb+, счиатаю излишним, не могу придумать текста длиннее "Войны и мира" Толстого. 
Скачал первый том, это 700k, можно было читать и целиком файл.

Из-за построчного чтения переносы строк, обрабатываем так:
    
    если в конце строки перенос, т.е. слово оканчивающееся на "-"
    убираем его из строки и обрабатываем со следующей строкой.
    перед обработкой строки проверяем если есть сохраненная часть слова 
    добавляем ее к строке, проверив что это перенос и сохранив абзацы и префиксы

В результате длина строк может измениться. 
Ясности, как обрабатывать нет, выбрал это решение.

Почему не спросил? Обычно спрашиваю. 
Если ТЗ нечеткое - задаю вопросы:
- какого размера эти "большие" файлы? 
- как поступать с переносами? и т.п.

Все вопросы озвучены в демонстрационном тексте, который отображается при запуске программы.

Но бывает, что заказчик недоступен/не знает сам/не хочет думать, 
в этом случае действую из своей логики, и предлагаю варианты.

В нашем случае решил, что много вопросов от соискателя могут навредить собеседованию.
Поэтому сделал, как описано выше. 


Описание программы.
-----------------

Удаляет из текста слова короче заданной длины и знаки препинания

В настройках можно указать: учитывать ли переносы слов - галка Use Hyphens. При использовании слово будет перенесено на следующую строку и обработано со всеми остальными.

Также можно указать, как обращаться с цифрами, и словами которые содержат цифры "k8s", "4исла" и т.п.

По умочанию слова с дефисом "что-то" "кто-то" обрабатываются как одно слово. Символ дефиса за букву не считается: "когда-то" будет обработано как слово из 7 букв.

В левом окне можно набрать текст руками - он автоматически обработается и результат отобразится в правом окне. 

Правое окно не стал закрывать для редактирования, на мой взгляд оба варианта имеют минусы, и неочевидное поведение для пользователя, 
пошел по простому пути 

При нажатии на кнопку Refine Text File - будет предложено выбрать файл

Результат будет сохранен с именем файла "{Имя исходного файла} (Refinemenent).{расширение исходного файла}" в ту же папку, в той же кодировке
Первые 50 строк файла источника и результат, отобразятся в окнах превью.

Для варианта много файлов за раз достаточно поставить флаг мультиселект в окне выбора файла и приделать цикл, архитектура позволяет.
Воздержался, сконцентрировался на второй задаче.

Что не сделал
-------------

- Биндинг WFP невнятный, можно лучше.
- Нет стилей.
- Сдался на этапе синхронного скролла обоих TextBox.
- Ну и в целом WFP часть конечно хромает. 
